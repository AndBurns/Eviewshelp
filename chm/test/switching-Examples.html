<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Examples</title>
    <link rel="StyleSheet" href="css/switching.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/popup.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/page.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWNoOp() {}
        function  WWNoValue() { return ""; }


        var  WebWorksHTMLHelp;
        var  WebWorksSeeAlso;
        var  WebWorksDropDown;


        if (typeof(HTMLHelp_Object) != "undefined")
        {
          WebWorksHTMLHelp = new HTMLHelp_Object();
          WebWorksSeeAlso  = new WebWorksSeeAlso_Object();
          WebWorksDropDown = new WebWorksDropDown_Object();
        }
        else
        {
          WebWorksHTMLHelp = new Object();
          WebWorksHTMLHelp.fNotifyClicked = WWNoOp;
          WebWorksHTMLHelp.fPopupDivTag   = WWNoValue;

          WebWorksSeeAlso = new Object();

          WebWorksDropDown = new Object();
          WebWorksDropDown.fWriteArrow  = WWNoOp;
          WebWorksDropDown.fWriteDIVOpen  = WWNoOp;
          WebWorksDropDown.fWriteDIVClose = WWNoOp;
        }
      // -->
    </script>
  </head>
  <body onclick="javascript:WebWorksHTMLHelp.fNotifyClicked();">
    <table cellspacing="0" align="left">
      <tr>
        <td>
          <a href="switching-Switching_VAR_Procs.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
        </td>
        <td>
          <a href="switching-References.html"><img src="images/next.gif" alt="Next" border="0" /></a>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="preface.html">User&#8217;s Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="sec_adv.html">Advanced Single Equation Analysis</a> : <a class="WebWorks_Breadcrumb_Link" href="switching-Switching_Regression.html">Switching Regression</a> : Examples</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_3"><a name="190525">Examples</a></div>
      <div class="WebWorks_MiniTOC">
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#190528">Markov Switching AR</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#190566">Time-Varying Transitions</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#190610">Regime Heteroskedasticity</a>
        </div>
      </div>
      <div class="Body_Text"><a name="190526">As illustrations of switching regression estimation, we consider three examples: Hamilton&#8217;s (1989) MSAR(4) specification for post-war U.S. GNP, Kim and Nelson&#8217;s (1999) example of a time-varying transition probability model of industrial production, and Kim and Nelson&#8217;s (1999) three state Markov model of regime heteroskedasticity.</a></div>
      <div class="Heading_4"><a name="190528">Markov Switching AR</a></div>
      <div class="Body_Text"><a name="190529">Hamilton (1989) specifies a two-state Markov switching model in which the mean growth rate of GNP is subject to regime switching, and where the errors follow a regime-invariant AR(4) process. The data for this example, which consists of the series G containing (100 times) the log difference of quarterly U.S. GNP for 1951q1&#8211;1984q4, may be found in the workfile &#8220;GNP_hamilton.WF1&#8221;. </a></div>
      <div class="Body_Text"><a name="190530">To estimate the Hamilton model, open an switching equation dialog and enter the specification as depicted below:</a></div>
      <div class="Picture"><a name="190534"><img class="Default" src="images/switching.049.7.01.jpg" width="100%" style="left: 0.0pt; max-height: 499px; max-width: 506px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190535">The equation specification consists of a two-state Markov switching model with a single switching mean regressor C and the four non-switching AR terms. The error variance is assumed to be common across the regimes. The only probability regressor is the constant C since we have time-invariant regime transition probabilities.</a></div>
      <div class="Body_Text"><a name="190536">With the exception of the convergence tolerance which we set to 1e-8, we leave the rest of the settings at their default values. Click on </a><span class="Menu_Item">OK</span> to estimate the equation and display the estimation results.</div>
      <div class="Body_Text"><a name="190537">The top portion of the output describes the estimation settings:</a></div>
      <div class="Picture"><a name="190541"><img class="Default" src="images/switching.049.7.02.jpg" width="100%" style="left: 0.0pt; max-height: 258px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190542">(Bear in mind that if you attempt replicate this estimation using the default settings, you may obtain different results due to the different set of random starting values. You may use the random number generator seed settings to obtain the same starting values.)</a></div>
      <div class="Body_Text"><a name="190543">The middle section displays the coefficients for the regime specific mean and the invariant error distribution coefficients. We see, in the differences in the regime specific means, what Hamilton terms the fast and slow growth rates for the U.S. economy.</a></div>
      <div class="Picture"><a name="190547"><img class="Default" src="images/switching.049.7.03.jpg" width="100%" style="left: 0.0pt; max-height: 392px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190548">The remaining results show the parameters of the transition matrix and summary statistics for the estimated equation.</a></div>
      <div class="Picture"><a name="190552"><img class="Default" src="images/switching.049.7.04.jpg" width="100%" style="left: 0.0pt; max-height: 299px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190553">Instead of focusing on the transition matrix parameters, we examine the transition matrix probabilities directly by selecting </a><span class="Menu_Item">View/Regime Results/Transition Results... </span>and clicking on <span class="Menu_Item">OK</span> to display the default summary view:</div>
      <div class="Picture"><a name="190557"><img class="Default" src="images/switching.049.7.05.jpg" width="100%" style="left: 0.0pt; max-height: 446px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190558">Here, we see the transition probability matrix and the expected durations. Note that there is considerable state dependence in the transition probabilities with a relatively higher probability of remaining in the origin regime (0.90 for the high output state, 0.75 for the low output state). The corresponding expected durations in a regime are approximately 10.4 and 4.1 quarters, respectively.</a></div>
      <div class="Body_Text"><a name="190559">Lastly, we display the filtered and full sample estimates of the probabilities of being in the two regimes. First select </a><span class="Menu_Item">View/Regime Results/Regime Probabilities... </span>and choose the filtered results. We will display the results only for the first regime. Then repeat the procedure choosing the smoothed results. </div>
      <div class="Body_Text"><a name="190560">After saving the two views as graphs, editing the labels, and applying the RecShade add-in (</a><span class="URL"><a href="http://www.eviews.com/Addins/addins.shtml" target="external_window">http://www.eviews.com/Addins/addins.shtml</a></span>) to label the NBER recessions, we see that the predicted probabilities of being in the low output state coincide nicely with the commonly employed definition of recessions:</div>
      <div class="Picture"><a name="190565"><img class="Default" src="images/switching.049.7.06.jpg" width="100%" style="left: 0.0pt; max-height: 590px; max-width: 645px; top: 0.0pt" alt="" /></a></div>
      <div class="Heading_4"><a name="190566">Time-Varying Transitions</a></div>
      <div class="Body_Text"><a name="190567">Kim and Nelson (1999, p. 93) provide example data for estimating an MSAR(4) model with time-varying transition probabilities, as in Filardo (1994). Filardo models the log growth rate of industrial production (DLOGIP) using an MSAR(4) switching mean specification, using (among other variables) the log growth rate of the Composite Index of Eleven Leading Indicators (DLOGIDX) as a business-cycle predictor. </a></div>
      <div class="Body_Text"><a name="190568">The Kim and Nelson monthly data for 1948m01 to 1991m04 are included the workfile &#8220;kimnelson_tvp.WF1&#8221;. Note that these data correspond to, but differ slightly from the data used in Filardo (1994).</a></div>
      <div class="Body_Text"><a name="190569">We open the switching regression dialog and fill out the </a><span class="Menu_Item">Specification</span> tab with the switching mean AR(4) spec and the switching probability specification:</div>
      <div class="Picture"><a name="190573"><img class="Default" src="images/switching.049.7.07.jpg" width="100%" style="left: 0.0pt; max-height: 501px; max-width: 508px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190574">Note that use have used the lag of the leading indicator variable as our probability regressor so that the period <img class="Default EquationGraphic" src="images/switching.049.7.08.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 11px; top: 0.0pt" alt="" /> data for the regressor corresponds to the values influencing the transitions for <img class="Default EquationGraphic" src="images/switching.049.7.09.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 37px; top: 0.0pt" alt="" /> to <img class="Default EquationGraphic" src="images/switching.049.7.10.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 11px; top: 0.0pt" alt="" />.</a></div>
      <div class="Body_Text"><a name="190584">We leave the remaining settings at their defaults and click on </a><span class="Menu_Item">OK</span> to estimate the equation. Following estimation, EViews displays the results:</div>
      <div class="Picture"><a name="190589"><img class="Default" src="images/switching.049.7.11.jpg" width="100%" style="left: 0.0pt; max-height: 877px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190590">The results are broadly similar to, but differ slightly from those reported by Filardo. The coefficients on the intercept in the mean equation both differ from zero with opposite (statistically significant) signs. As to the transition matrix parameters, we see that increases in the log growth rate are associated with higher probabilities of being in the high production growth regime, lowering the transition probability out of regime 1 and increasing the transition probability from regime 2 into regime 1. </a></div>
      <div class="Body_Text"><a name="190591">We can examine more directly the transition probabilities. The default transition probability summary (</a><span class="Menu_Item">View/Regime Results/Transition Results...</span>) shows descriptive statistics for the elements of the transition matrix:</div>
      <div class="Picture"><a name="190595"><img class="Default" src="images/switching.049.7.12.jpg" width="100%" style="left: 0.0pt; max-height: 543px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190596">We can see the variation in the time-varying probabilities by examining graphs of the transition probabilities for each observation. Select </a><span class="Menu_Item">View/Regime Results/Transition Results...</span> and click on the <span class="Menu_Item">Transition probabilities</span> radio button. The default view for showing the probabilities is a graph so you may simply click on <span class="Menu_Item">OK</span> to show graphs for all four probabilities.</div>
      <div class="Picture"><a name="190600"><img class="Default" src="images/switching.049.7.13.jpg" width="100%" style="left: 0.0pt; max-height: 571px; max-width: 719px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190601">The filtered probabilities of being in the low production regime are presented below, with NBER recession shading. </a></div>
      <div class="Picture"><a name="190605"><img class="Default" src="images/switching.049.7.14.jpg" width="100%" style="left: 0.0pt; max-height: 425px; max-width: 555px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190606">To create this graph, select </a><span class="Menu_Item">View/Regime Results/Regime Probabilities...</span>, select the <span class="Menu_Item">Filtered</span> radio button and enter &#8220;2&#8221; in the <span class="Menu_Item">Regimes to plot</span> edit field to only show the second (low production) regime. </div>
      <div class="Body_Text"><a name="190607">Click on </a><span class="Menu_Item">OK</span> to display the graph view, then click on the <span class="Menu_Item">Freeze</span> button to save the view as a graph object. Select <span class="Menu_Item">Proc/Add-ins/Add USA Recession Shading</span> in the graph menu (you must first install the RecShade Add-in to use the automatic shading feature:</div>
      <div class="Indented" style="color: #0000ff; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="URL"><a href="http://www.eviews.com/Addins/addins.shtml" target="external_window" name="197445">http://www.eviews.com/Addins/addins.shtml</a></span></div>
      <div class="Heading_4"><a name="190610">Regime Heteroskedasticity</a></div>
      <div class="Body_Text"><a name="190611">Kim and Nelson (1999) offer an example (Section 4.6, p. 86) of a three state Markov switching model of regime heteroskedastic stock returns from 1926m1&#8211;1986m12. The data, which consist of monthly CRSP equal-weighted excess returns are in the series EXCESS, provided in the workfile &#8220;ew_excs.WF1&#8221;.</a></div>
      <div class="Body_Text"><a name="190612">The specification of the model is as depicted in the dialog below:</a></div>
      <div class="Picture"><a name="190616"><img class="Default" src="images/switching.049.7.15.jpg" width="100%" style="left: 0.0pt; max-height: 494px; max-width: 495px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190617">The excess returns are assumed to have mean zero so we enter only the name of the dependent variable in the topmost edit field. Since we wish to model regime heteroskedasticity, </a><span class="Menu_Item">Regime specific error variances</span> box is checked. The model assumes Markov switching probabilities with 3 regimes and constant transition probabilities.</div>
      <div class="Body_Text"><a name="190618">Preliminary analysis indicates that this model is particularly difficult to estimate with a number of local roots exhibiting coefficient singularity. </a></div>
      <div class="Body_Text"><a name="190619">To obtain estimates we instruct EViews to perform extra randomized starting value estimation. Click on the </a><span class="Menu_Item">Options</span> tab and change the starting value settings so EViews generates 200 sets of random starts (instead of 25) with 50 (instead of 10) iteration refinements. Set the convergence tolerance to 1e-5. You may need to set the random seed as depicted below. Click on <span class="Menu_Item">OK</span> to proceed with the estimation.</div>
      <div class="Body_Text"><a name="190620">EViews estimates the model and displays the standard switching regression output:</a></div>
      <div class="Picture"><a name="190624"><img class="Default" src="images/switching.049.7.16.jpg" width="100%" style="left: 0.0pt; max-height: 846px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190625">The results show estimates of the log standard deviations in the low, high, and medium volatility regimes. The implied standard deviations are 0.035, 0.176, and 0.063, respectively.</a></div>
      <div class="Body_Text"><a name="190626">We may view the estimated transition probability matrix by clicking on </a><span class="Menu_Item">View/Regime Results/Transition Results...</span> and clicking on <span class="Menu_Item">OK</span> to display the summary:</div>
      <div class="Picture"><a name="190630"><img class="Default" src="images/switching.049.7.17.jpg" width="100%" style="left: 0.0pt; max-height: 468px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190631">The transition probabilities point to a possible explanation of the difficulty in estimating the model. The transition probability from the low volatility regime 1 to the high volatility regime 2 is essentially zero.</a></div>
      <div class="Body_Text"><a name="190632">We may impose a zero restriction on transitions from the high to low state by creating a <img class="Default EquationGraphic" src="images/switching.049.7.18.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 41px; top: 0.0pt" alt="" /> matrix object RESTR containing:</a></div>
      <table style="width: 90%; margin-left: 80px; margin-right: 80px;">
        <tr>
          <td style="padding-left: 5%; text-align: left;">
            <img src="images/switching.049.7.19.jpg" class="EquationGraphic" style="border: 0px; vertical-align: baseline;" />
          </td>
          <td style="padding-right: 20px; text-align: right;">
            <div style="font-weight: normal; font-size: small; font-family: Verdana, Serif;">(39.25)</div>
          </td>
        </tr>
      </table>
      <div class="Body_Text"><a name="190640">and re-estimating the model using this restriction matrix.</a></div>
      <div class="Body_Text"><a name="190641">One tricky aspect of imposing restrictions is that the regime identities are not fixed and can change for different starting values. Accordingly, we re-estimate the model using the prior coefficient estimates as user-specified starting values, keeping in mind that the P12-C coefficient no longer exists.</a></div>
      <div class="Body_Text"><a name="190642">Your example workfile includes the vector object STARTCOEFS which contains the coefficient estimates from the unrestricted equation with the P12-C coefficient removed. Select </a><span class="Menu_Item">Proc/Set Global Coefs</span> from the STARTCOEFS toolbar to place these values in the C coefficient vector. </div>
      <div class="Body_Text"><a name="190643">Next, go to the original equation and make a copy by selecting </a><span class="Menu_Item">Object/Copy Object</span>. Click on the <span class="Menu_Item">Estimate</span> button go to the <span class="Menu_Item">Options</span> tab, enter the name of the restriction vector in the <span class="Menu_Item">Transition prob restr. matrix</span> edit field, and change the <span class="Menu_Item">Start method</span> to <span class="Menu_Item">User Specified</span>. Click on <span class="Menu_Item">OK</span> to accept the changes and estimate the equation.</div>
      <div class="Body_Text"><a name="190644">The update results are displayed below:</a></div>
      <div class="Picture"><a name="190648"><img class="Default" src="images/switching.049.7.20.jpg" width="100%" style="left: 0.0pt; max-height: 868px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190652">Note that the coefficient associated with the restricted probability <img class="Default EquationGraphic" src="images/switching.049.7.21.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 26px; top: 0.0pt" alt="" /> has been removed. </a></div>
      <div class="Body_Text"><a name="190653">The transition probabilities view shows us the updated probabilities with the restricted value for <img class="Default EquationGraphic" src="images/switching.049.7.22.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 26px; top: 0.0pt" alt="" />:</a></div>
      <div class="Picture"><a name="190660"><img class="Default" src="images/switching.049.7.23.jpg" width="100%" style="left: 0.0pt; max-height: 468px; max-width: 1000px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="190661">Lastly, we display the smoothed regime probabilities </a><span class="Menu_Item">View/Regime Results/Regime Probabilities... </span>selecting <span class="Menu_Item">Smoothed</span> and clicking on <span class="Menu_Item">OK</span> to accept the remaining settings. After rearranging, we have:</div>
      <div class="Picture"><a name="190665"><img class="Default" src="images/switching.049.7.24.jpg" width="100%" style="left: 0.0pt; max-height: 567px; max-width: 629px; top: 0.0pt" alt="" /></a></div>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
      document.write(WebWorksHTMLHelp.fPopupDivTag());
     // -->
    </script>
  </body>
</html>