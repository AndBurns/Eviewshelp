<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Workfile Sample Information</title>
    <link rel="StyleSheet" href="css/wffunctions.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/popup.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/page.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWNoOp() {}
        function  WWNoValue() { return ""; }


        var  WebWorksHTMLHelp;
        var  WebWorksSeeAlso;
        var  WebWorksDropDown;


        if (typeof(HTMLHelp_Object) != "undefined")
        {
          WebWorksHTMLHelp = new HTMLHelp_Object();
          WebWorksSeeAlso  = new WebWorksSeeAlso_Object();
          WebWorksDropDown = new WebWorksDropDown_Object();
        }
        else
        {
          WebWorksHTMLHelp = new Object();
          WebWorksHTMLHelp.fNotifyClicked = WWNoOp;
          WebWorksHTMLHelp.fPopupDivTag   = WWNoValue;

          WebWorksSeeAlso = new Object();

          WebWorksDropDown = new Object();
          WebWorksDropDown.fWriteArrow  = WWNoOp;
          WebWorksDropDown.fWriteDIVOpen  = WWNoOp;
          WebWorksDropDown.fWriteDIVClose = WWNoOp;
        }
      // -->
    </script>
  </head>
  <body onclick="javascript:WebWorksHTMLHelp.fNotifyClicked();">
    <table cellspacing="0" align="left">
      <tr>
        <td>
          <a href="wffunctions-Basic_Workfile_Information.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
        </td>
        <td>
          <a href="wffunctions-Dated_Workfile_Information.html"><img src="images/next.gif" alt="Next" border="0" /></a>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="cpreface.html">Command Reference</a> : Object and Command Basics : <a class="WebWorks_Breadcrumb_Link" href="wffunctions-Workfile_Functions.html">Workfile Functions</a> : Workfile Sample Information</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_3"><a name="74566">Workfile Sample Information</a></div>
      <div class="WebWorks_MiniTOC">
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#74747">Sample Index Functions</a>
        </div>
        <div class="WebWorks_MiniTOC_Level2">
          <a class="WebWorks_MiniTOC_Link" href="#74751">Current Sample Index (@pagesmplidx)</a>
        </div>
        <div class="WebWorks_MiniTOC_Level2">
          <a class="WebWorks_MiniTOC_Link" href="#74763">Observations Index (@pageidx)</a>
        </div>
        <div class="WebWorks_MiniTOC_Level2">
          <a class="WebWorks_MiniTOC_Link" href="#74775">Boolean Indicators (@pageinidx)</a>
        </div>
      </div>
      <div class="Heading_4"><a name="74747">Sample Index Functions</a></div>
      <div class="Body_Text"><a name="74748">A key EViews feature is the ability to work with subsamples of observations. There are two common ways of defining a subsample of observations in a workfile. One method is to specify a set of (0, 1) (boolean) identifiers that indicate whether each observation in the workfile is included in the subsample. A second method is to specify a list of index values for the observations in the subsample.</a></div>
      <div class="Body_Text"><a name="74749">In some cases, working with the boolean indicators is more convenient. In others, especially when the subsample is sparse and direct access to the observation is useful, working with the index values may be preferred.</a></div>
      <div class="Body_Text"><a name="74750">EViews provides workfile functions that allow you to extract information from the workfile and workfile sample, and to convert between the two methods.</a></div>
      <div class="Heading_5"><a name="74751">Current Sample Index (@pagesmplidx)</a></div>
      <div class="Body_Text"><a name="74752">The </a><span class="In-line_command">@pagesmplidx</span> function returns a vector object containing the index values for the observations in the current sample.</div>
      <div class="Body_Text"><a name="74753">Suppose we have an annual workfile from 2001 to 2024, and have set the workfile sample to a subset of observations. The commands</a></div>
      <div class="Multi-line_Input"><a name="74754">wfcreate(wf=awf) a 2001 2024</a></div>
      <div class="Multi-line_Input"><a name="74755">smpl 2002 2003 2010 2011</a></div>
      <div class="Body_Text"><a name="74756">create a workfile containing annual observations from 2001 to 2024, then sets the sample to contain observations from 2002&#8211;2003 and 2010&#8211;2011. There are 24 observations in this workfile which may be identified by index values 1 to 24. Then</a></div>
      <div class="Multi-line_Input"><a name="74757">vector ids = @pagesmplidx</a></div>
      <div class="Body_Text"><a name="74758">will return IDS containing {2, 3, 10, 11}.</a></div>
      <div class="Body_Text"><a name="74762">See </a><span class="In-line_command_link"><a href="functionref_p-@pagesmplidx.html#1260612" title="@pagesmplidx">@pagesmplidx</a></span>.</div>
      <div class="Heading_5"><a name="74763">Observations Index (@pageidx)</a></div>
      <div class="Body_Text"><a name="74764">The </a><span class="In-line_command">@pageidx(</span><span class="Argument" style="font-weight: normal">arg</span><span class="In-line_command">)</span> function returns a vector object containing the index values for the observations in the workfile specified in <span class="Argument">arg</span>. </div>
      <div class="Body_Text"><a name="74765">The argument may be a vector of date numbers, an svector of date strings, or a string object or string literal containing a space delimited list of dates.</a></div>
      <div class="Body_Text"><a name="74766">Observation specifications that are outside of the workfile range will be ignored.</a></div>
      <div class="Body_Text"><a name="74767">For example,</a></div>
      <div class="Multi-line_Input"><a name="74768">wfcreate(wf=qwf) q 2001 2024</a></div>
      <div class="Multi-line_Input"><a name="74769">vector id1 = @pageidx("2010q2 2010q3 2021q1 2023q4")</a></div>
      <div class="Body_Text"><a name="74770">creates a workfile containing quarterly data from 2001 to 2024 and an ID1 vector containing the values {38, 39, 81, 92}.</a></div>
      <div class="Body_Text"><a name="74774">See </a><span class="In-line_command_link"><a href="functionref_p-@pageidx.html#1260527" title="@pageidx">@pageidx</a></span>.</div>
      <div class="Heading_5"><a name="74775">Boolean Indicators (@pageinidx)</a></div>
      <div class="Body_Text"><a name="74776">The </a><span class="In-line_command">@pageinidx(</span><span class="Argument" style="font-weight: normal">arg</span><span class="In-line_command">)</span> function, where <span class="Argument">arg</span> is a vector containing observation index values, returns a vector object, sized to match the workfile page length, that includes (0, 1) indicators for each observation, with 1&#8217;s assigned to index elements in <span class="Argument">arg, </span>and 0&#8217;s elsewhere.</div>
      <div class="Body_Text"><a name="74777">If the </a><span class="Argument">arg</span> contains index values that are outside of the workfile range, the function will return an error.</div>
      <div class="Body_Text"><a name="74778">If we have the commands</a></div>
      <div class="Multi-line_Input"><a name="74779">vector id2 = @fill(10, 27, 30, 40)</a></div>
      <div class="Multi-line_Input"><a name="74780">vector incl = @pageinidx(id2)</a></div>
      <div class="Body_Text"><a name="74781">then INC1 is a vector with 0&#8217;s everywhere except for the elements 10, 27, 30, and 40. Note that these commands are a concise equivalent to the commands</a></div>
      <div class="Multi-line_Input"><a name="74782">vector inc2 = @zeros(@wfrange)</a></div>
      <div class="Multi-line_Input"><a name="74783">inc2(10) = 1</a></div>
      <div class="Multi-line_Input"><a name="74784">inc2(17) = 1</a></div>
      <div class="Multi-line_Input"><a name="74785">inc2(30) = 1</a></div>
      <div class="Multi-line_Input"><a name="74786">inc2(40) = 1</a></div>
      <div class="Body_Text"><a name="74787">Using </a><span class="In-line_command">@pageidx</span> to identify observation indices and then feeding the result to <span class="In-line_command">@pageinidx </span>offers a quick way of specifying a subsample of observations using dates:</div>
      <div class="Multi-line_Input"><a name="74788">wfcreate(wf=qwf) q 2001 2024</a></div>
      <div class="Multi-line_Input"><a name="74789">vector inc3 = @pageinidx(@pageidx("2010q2 2010q3 2021q1 2023q4")</a></div>
      <div class="Multi-line_Input"><a name="74790">stom(inc3, include_series)</a></div>
      <div class="Multi-line_Input"><a name="74791">smpl @all if include_series = 1</a></div>
      <div class="Body_Text"><a name="54132">See </a><span class="In-line_command_link"><a href="functionref_p-@pageinidx.html#1260578" title="@pageinidx">@pageinidx</a></span>.</div>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
      document.write(WebWorksHTMLHelp.fPopupDivTag());
     // -->
    </script>
  </body>
</html>