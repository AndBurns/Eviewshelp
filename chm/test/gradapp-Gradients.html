<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Gradients</title>
    <link rel="StyleSheet" href="css/gradapp.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/popup.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/page.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWNoOp() {}
        function  WWNoValue() { return ""; }


        var  WebWorksHTMLHelp;
        var  WebWorksSeeAlso;
        var  WebWorksDropDown;


        if (typeof(HTMLHelp_Object) != "undefined")
        {
          WebWorksHTMLHelp = new HTMLHelp_Object();
          WebWorksSeeAlso  = new WebWorksSeeAlso_Object();
          WebWorksDropDown = new WebWorksDropDown_Object();
        }
        else
        {
          WebWorksHTMLHelp = new Object();
          WebWorksHTMLHelp.fNotifyClicked = WWNoOp;
          WebWorksHTMLHelp.fPopupDivTag   = WWNoValue;

          WebWorksSeeAlso = new Object();

          WebWorksDropDown = new Object();
          WebWorksDropDown.fWriteArrow  = WWNoOp;
          WebWorksDropDown.fWriteDIVOpen  = WWNoOp;
          WebWorksDropDown.fWriteDIVClose = WWNoOp;
        }
      // -->
    </script>
  </head>
  <body onclick="javascript:WebWorksHTMLHelp.fNotifyClicked();">
    <table cellspacing="0" align="left">
      <tr>
        <td>
          <a href="gradapp-Gradients_and_Derivatives.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
        </td>
        <td>
          <a href="gradapp-Derivatives.html"><img src="images/next.gif" alt="Next" border="0" /></a>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="preface.html">User&#8217;s Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="gradapp-Gradients_and_Derivatives.html">Gradients and Derivatives</a> : Gradients</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_3"><a name="150577">Gradients</a></div>
      <div class="WebWorks_MiniTOC">
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#150647">Gradient Summary</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#150660">Gradient Table and Graph</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#150664">Gradient Series</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#150668">Application to LM Tests</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#150685">Gradient Availability</a>
        </div>
      </div>
      <div class="Body_Text"><a name="150578">EViews provides you with the ability to examine and work with the gradients of the objective function for a variety of estimation objects. Examining these gradients can provide useful information for evaluating the behavior of your nonlinear estimation routine, or can be used as the basis of various tests of specification.</a></div>
      <div class="Body_Text"><a name="150580">Since EViews provides a variety of estimation methods and techniques, the notion of a gradient is a bit difficult to describe in casual terms. EViews will generally report the values of the first-order conditions used in estimation. To take the simplest example, ordinary least squares minimizes the sum-of-squared residuals:</a></div>
      <table style="width: 90%; margin-left: 80px; margin-right: 80px;">
        <tr>
          <td style="padding-left: 5%; text-align: left;">
            <img src="images/gradapp.078.2.01.jpg" class="EquationGraphic" style="border: 0px; vertical-align: baseline;" />
          </td>
          <td style="padding-right: 20px; text-align: right;">
            <div style="font-weight: normal; font-size: small; font-family: Verdana, Serif;">(60.24)</div>
          </td>
        </tr>
      </table>
      <div class="Body_Text"><a name="150585">The first-order conditions for this objective function are obtained by differentiating with respect to <img class="Default EquationGraphic" src="images/gradapp.078.2.02.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 15px; top: 0.0pt" alt="" />, yielding</a></div>
      <table style="width: 90%; margin-left: 80px; margin-right: 80px;">
        <tr>
          <td style="padding-left: 5%; text-align: left;">
            <img src="images/gradapp.078.2.03.jpg" class="EquationGraphic" style="border: 0px; vertical-align: baseline;" />
          </td>
          <td style="padding-right: 20px; text-align: right;">
            <div style="font-weight: normal; font-size: small; font-family: Verdana, Serif;">(60.25)</div>
          </td>
        </tr>
      </table>
      <div class="Body_Text"><a name="150593">EViews allows you to examine both the sum and the corresponding average, as well as the value for each of the individual observations. Furthermore, you can save the individual values in series for subsequent analysis.</a></div>
      <div class="Body_Text"><a name="150594">The individual gradient computations are summarized in the following table:</a></div>
      <div class="Table"><a name="150631">&nbsp;</a></div>
      <table class="TwoColNarrow" cellspacing="0" summary="">
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top; width: 108pt">
            <div class="Table_Text"><a name="150597">Least squares</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top; width: 216pt">
            <div class="Table_Multi-line__0028Center_0029"><a name="150602"><img class="Default EquationGraphic" src="images/gradapp.078.2.04.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 48px; max-width: 256px; top: 0.0pt" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top">
            <div class="Table_Text"><a name="150604">Weighted least squares</a></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top">
            <div class="Table_Multi-line__0028Center_0029"><a name="150609"><img class="Default EquationGraphic" src="images/gradapp.078.2.05.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 48px; max-width: 275px; top: 0.0pt" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top">
            <div class="Table_Text"><a name="150611">Two-stage least squares</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top">
            <div class="Table_Multi-line__0028Center_0029"><a name="150616"><img class="Default EquationGraphic" src="images/gradapp.078.2.06.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 48px; max-width: 273px; top: 0.0pt" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top">
            <div class="Table_Text"><a name="150618">Weighted two-stage least squares</a></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top">
            <div class="Table_Multi-line__0028Center_0029"><a name="150623"><img class="Default EquationGraphic" src="images/gradapp.078.2.07.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 48px; max-width: 307px; top: 0.0pt" alt="" /></a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top">
            <div class="Table_Text"><a name="150625">Maximum likelihood</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 3pt; padding-left: 2pt; padding-right: 2pt; padding-top: 3pt; vertical-align: top">
            <div class="Table_Multi-line__0028Center_0029"><a name="150630"><img class="Default EquationGraphic" src="images/gradapp.078.2.08.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 45px; max-width: 116px; top: 0.0pt" alt="" /></a></div>
          </td>
        </tr>
      </table>
      <div class="Body_Text"><a name="150638">where <img class="Default EquationGraphic" src="images/gradapp.078.2.09.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 17px; top: 0.0pt" alt="" /> and <img class="Default EquationGraphic" src="images/gradapp.078.2.10.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 26px; max-width: 17px; top: 0.0pt" alt="" /> are the projection matrices corresponding to the expressions for the estimators in </a><span class="Link"><a href="gmmiv-Instrumental_Variables_and_GMM.html#168115" title="Instrumental Variables and GMM">&#8220;Instrumental Variables and GMM&#8221;</a></span>, and <img class="Default EquationGraphic" src="images/gradapp.078.2.11.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 10px; top: 0.0pt" alt="" /> is the log likelihood contribution function.</div>
      <div class="Body_Text"><a name="150645">Note that the expressions for the regression gradients are adjusted accordingly in the presence of ARMA error terms.</a></div>
      <div class="Heading_4"><a name="150647">Gradient Summary</a></div>
      <div class="Body_Text"><a name="150648">To view the summary of the gradients, select </a><span class="Menu_Item">View/Gradients and Derivatives/Gradient Summary</span>, or <span class="Menu_Item">View/Gradients/Summary</span>. EViews will display a summary table showing the sum, mean, and Newton direction associated with the gradients. Here is an example table from a nonlinear least squares estimation equation:</div>
      <div class="Table"><a name="150652"><img class="Default" src="images/gradapp.078.2.12.jpg" width="100%" style="left: 0.0pt; max-height: 300px; max-width: 935px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="150653">There are several things to note about this table. The first line of the table indicates that the gradients have been computed at estimated parameters. If you ask for a gradient view for an estimation object that has not been successfully estimated, EViews will compute the gradients at the current parameter values and will note this in the table. This behavior allows you to diagnose unsuccessful estimation problems using the gradient values.</a></div>
      <div class="Body_Text"><a name="150654">Second, you will note that EViews informs you that the gradients were computed using analytic derivatives. EViews will also inform you if the specification is linear, if the derivatives were computed numerically, or if EViews used a mixture of analytic and numeric techniques. We remind you that all MA coefficient derivatives are computed numerically.</a></div>
      <div class="Body_Text"><a name="150655">Lastly, there is a table showing the sum and mean of the gradients as well as a column labeled &#8220;Newton Dir.&#8221;. The column reports the non-Marquardt adjusted Newton direction used in first-derivative iterative estimation procedures (see </a><span class="Link"><a href="optimize-Optimization_Algorithms.html#137215" title="Optimization Algorithms">&#8220;First Derivative Methods&#8221;</a></span>). </div>
      <div class="Body_Text"><a name="150659">In the example above, all of the values are &#8220;close&#8221; to zero. While one might expect these values always to be close to zero when evaluated at the estimated parameters, there are a number of reasons why this will not always be the case. First, note that the sum and mean values are highly scale variant so that changes in the scale of the dependent and independent variables may lead to marked changes in these values. Second, you should bear in mind that while the Newton direction is </a><span class="Emphasis">related</span> to the terms used in the optimization procedures, EViews&#8217; test for convergence does not directly use the Newton direction. Third, some of the iteration options for system estimation do not iterate coefficients or weights fully to convergence. Lastly, you should note that the values of these gradients are sensitive to the accuracy of any numeric differentiation.</div>
      <div class="Heading_4"><a name="150660">Gradient Table and Graph</a></div>
      <div class="Body_Text"><a name="150661">There are a number of situations in which you may wish to examine the individual contributions to the gradient vector. For example, one common source of singularity in nonlinear estimation is the presence of very small combined with very large gradients at a given set of coefficient values.</a></div>
      <div class="Body_Text"><a name="150662">EViews allows you to examine your gradients in two ways: as a spreadsheet of values, or as line graphs, with each set of coefficient gradients plotted in a separate graph. Using these tools, you can examine your data for observations with outlier values for the gradients.</a></div>
      <div class="Heading_4"><a name="150664">Gradient Series</a></div>
      <div class="Body_Text"><a name="150665">You can save the individual gradient values in series using the </a><span class="Menu_Item">Make Gradient Group</span> procedure. EViews will create a new group containing series with names of the form GRAD## where ## is the next available name.</div>
      <div class="Body_Text"><a name="150666">Note that when you store the gradients, EViews will fill the series for the full workfile range. If you view the series, make sure to set the workfile sample to the sample used in estimation if you want to reproduce the table displayed in the gradient views.</a></div>
      <div class="Heading_4"><a name="150668">Application to LM Tests</a></div>
      <div class="Body_Text"><a name="150669">The gradient series are perhaps most useful for carrying out Lagrange multiplier tests for nonlinear models by running what is known as artificial regressions (Davidson and MacKinnon 1993, Chapter 6). A generic artificial regression for hypothesis testing takes the form of regressing:</a></div>
      <table style="width: 90%; margin-left: 80px; margin-right: 80px;">
        <tr>
          <td style="padding-left: 5%; text-align: left;">
            <img src="images/gradapp.078.2.13.jpg" class="EquationGraphic" style="border: 0px; vertical-align: baseline;" />
          </td>
          <td style="padding-right: 20px; text-align: right;">
            <div style="font-weight: normal; font-size: small; font-family: Verdana, Serif;">(60.26)</div>
          </td>
        </tr>
      </table>
      <div class="Body_Text"><a name="150680">where <img class="Default EquationGraphic" src="images/gradapp.078.2.14.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 14px; top: 0.0pt" alt="" /> are the estimated residuals under the restricted (null) model, and <img class="Default EquationGraphic" src="images/gradapp.078.2.15.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 26px; max-width: 15px; top: 0.0pt" alt="" /> are the estimated coefficients. The <img class="Default EquationGraphic" src="images/gradapp.078.2.16.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 16px; top: 0.0pt" alt="" /> are a set of &#8220;misspecification indicators&#8221; which correspond to departures from the null hypothesis.</a></div>
      <div class="Body_Text"><a name="150684">An example program (&#8220;GALLANT2.PRG&#8221;) for performing an LM auxiliary regression test is provided in your EViews installation directory.</a></div>
      <div class="Heading_4"><a name="150685">Gradient Availability</a></div>
      <div class="Body_Text"><a name="150686">The gradient views are currently available for the equation, logl, sspace and system objects. The views are not, however, currently available for equations estimated by GMM or ARMA equations specified by expression.</a></div>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
      document.write(WebWorksHTMLHelp.fPopupDivTag());
     // -->
    </script>
  </body>
</html>