<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>@dateadd</title>
    <link rel="StyleSheet" href="css/functionref_d.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/popup.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/page.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWNoOp() {}
        function  WWNoValue() { return ""; }


        var  WebWorksHTMLHelp;
        var  WebWorksSeeAlso;
        var  WebWorksDropDown;


        if (typeof(HTMLHelp_Object) != "undefined")
        {
          WebWorksHTMLHelp = new HTMLHelp_Object();
          WebWorksSeeAlso  = new WebWorksSeeAlso_Object();
          WebWorksDropDown = new WebWorksDropDown_Object();
        }
        else
        {
          WebWorksHTMLHelp = new Object();
          WebWorksHTMLHelp.fNotifyClicked = WWNoOp;
          WebWorksHTMLHelp.fPopupDivTag   = WWNoValue;

          WebWorksSeeAlso = new Object();

          WebWorksDropDown = new Object();
          WebWorksDropDown.fWriteArrow  = WWNoOp;
          WebWorksDropDown.fWriteDIVOpen  = WWNoOp;
          WebWorksDropDown.fWriteDIVClose = WWNoOp;
        }
      // -->
    </script>
  </head>
  <body onclick="javascript:WebWorksHTMLHelp.fNotifyClicked();">
    <table cellspacing="0" align="left">
      <tr>
        <td>
          <a href="functionref_d-@date.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
        </td>
        <td>
          <a href="functionref_d-@datediff.html"><img src="images/next.gif" alt="Next" border="0" /></a>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="cpreface.html">Command Reference</a> : Object and Command Basics : <a class="WebWorks_Breadcrumb_Link" href="functionref_home-Function_Reference.html">Function Reference</a> : Function Reference: D</div>
    <hr align="left" />
    <blockquote>
      <div class="Command_Title_Box"><a name="1226150">&nbsp;</a></div>
      <table class="Command_Heading" cellspacing="0" summary="">
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 2pt; padding-right: 4px; padding-top: 5pt; vertical-align: middle; width: 108pt">
            <div class="Command_Name"><a name="1226144">@dateadd</a></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 2pt; padding-right: 4px; padding-top: 5pt; vertical-align: middle; width: 252pt">
            <div class="Command_Header" style="color: #0000ff; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="Command_Header_link"><a href="functionref_home-Function_Summaries.html#1295990" title="Function Summaries" name="1226149">Element Functions</a></span> | <span class="Command_Header_link"><a href="functionref_home-Function_Summaries.html#1296812" title="Function Summaries">Date Functions</a></span></div>
          </td>
        </tr>
      </table>
      <div class="Command_Description"><a name="1226151">Date number after applying offset.</a></div>
      <div class="Function_Types"><a name="1226152">Syntax:		</a><span class="Command_Summary">@dateadd</span>(<span class="Argument">d, offset</span><span class="In-line_option">, </span><span class="Argument" style="font-weight: normal">u[, f]</span>)</div>
      <div class="Function_Types"><span class="Argument"><a name="1226153">	d</a></span>: 	date number, series, vector</div>
      <div class="Function_Types"><span class="Argument"><a name="1226154">	offset</a></span>: 	integer, series, vector</div>
      <div class="Function_Types"><span class="Argument"><a name="1226155">	u</a></span>: <span class="Argument">	</span>time unit string</div>
      <div class="Function_Types"><span class="Argument"><a name="1226156">	f</a></span>: 	(optional) number</div>
      <div class="Function_Types"><a name="1226157">Return:		date number, series, vector</a></div>
      <div class="Body_Text"><a name="1226158">Returns the date number given by </a><span class="Argument">d</span> offset by <span class="Argument">offset</span> time units as specified by the time unit string <span class="Argument">u. </span>The optional parameter <span class="Argument">f</span> controls handling of business days.</div>
      <div class="Bullet_List_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_List_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="Bullet_List_inner"><a name="1226159">The valid </a><span class="Argument">time unit string</span> values are: &#8220;A&#8221; or &#8220;Y&#8221; (annual), &#8220;S&#8221; (semi-annual), &#8220;Q&#8221; (quarters), &#8220;MM&#8221; (months), &#8220;WW&#8221; (weeks), &#8220;DD&#8221; (days), &#8220;B&#8221; (business days), &#8220;HH&#8221; (hours), &#8220;MI&#8221; (minutes), &#8220;SS&#8221; (seconds).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet_List_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="Bullet_List_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="Bullet_List_inner"><a name="1226160">When the time unit </a><span class="Argument">u</span> is business days (&#8220;B&#8221;), the optional control flag parameter <span class="Argument">f</span> controls how a non-business day date number <span class="Argument">d</span> is handled. When <span class="Argument">f</span> is absent or equal to zero, the date number <span class="Argument">d</span> is automatically advanced to the next business day before <span class="Argument">offset</span> is applied. Otherwise, when <span class="Argument">f</span> is non-zero automatic advancement is suppressed. Consequently, when <span class="Argument">f</span> is non-zero and <span class="Argument">offset</span> is 0 the function returns the original date number <span class="Argument">d</span> (a non-business day).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Command_Section"><a name="1226161">Examples</a></div>
      <div class="Body_Text"><a name="1226162">Suppose that the value of </a><span class="Argument">d </span>is 730088.0 (midnight, December 1, 1999). </div>
      <div class="Body_Text"><a name="1226163">Then we can add and subtract 10 days from the date by using the functions</a></div>
      <div class="Multi-line_Input"><a name="1226164">@dateadd(730088.0, 10, "dd")</a></div>
      <div class="Multi-line_Input"><a name="1226165">@dateadd(730088.0, -10, "dd")</a></div>
      <div class="Body_Text"><a name="1226166">which return 730098.0 (December 11, 1999) and (730078.0) (November 21, 1999). Note that these results could have been obtained by taking the original numeric value plus or minus 10.</a></div>
      <div class="Body_Text"><a name="1226167">To add 5 weeks to the existing date, simply specify &#8220;WW&#8221; as the time unit string: </a></div>
      <div class="Input"><a name="1226168">@dateadd(730088.0, 5, "ww")</a></div>
      <div class="Body_Text"><a name="1226169">returns 730123.0 (January 5, 2000).</a></div>
      <div class="Body_Text"><a name="1226170">To find the date 3 months prior to the existing date, specify &#8220;MM&#8221; as the time unit string:</a></div>
      <div class="Input"><a name="1226171">@dateadd(730088.0, -3, "mm")</a></div>
      <div class="Body_Text"><a name="1226172">The function may usefully be combined with other date functions. To find the day of the week 4 months from DD:</a></div>
      <div class="Input"><a name="1226173">@datestr(@dateadd(dd, 4, "mm"), "Wdy")</a></div>
      <div class="Body_Text"><a name="1226174">Business day adjustments are slightly more complex. Suppose that the value of DD is 730091.0 (midnight, December 4, 1999), which is a Saturday:</a></div>
      <div class="Input"><a name="1226175">730091.0</a></div>
      <div class="Body_Text"><a name="1226176">Then the previous business day, may be obtained by</a></div>
      <div class="Multi-line_Input"><a name="1226177">@dateadd(dd, -1, "b") </a></div>
      <div class="Multi-line_Input"><a name="1226178">@dateadd(dd, -1, "b", 1) </a></div>
      <div class="Body_Text"><a name="1226179">which both return 730090.0 (December 3, 1999), the preceding Friday.</a></div>
      <div class="Body_Text"><a name="1226180">A business day offset of 0 with a zero (or omitted) control flag </a><span class="Argument">f</span>, automatically advances to the next business day</div>
      <div class="Input"><a name="1226181">@dateadd(dd, 0, "b") </a></div>
      <div class="Body_Text"><a name="1226182">returns 730093.0 (December 6, 1999), the following Monday.</a></div>
      <div class="Body_Text"><a name="1226183">A business day offset of 0 with a non-zero control flag </a><span class="Argument">f, </span>does not advance from the original day, so that </div>
      <div class="Input"><a name="1226184">@dateadd(dd, 0, "b", 1) </a></div>
      <div class="Body_Text"><a name="1226185">returns 730091.0 (December 4, 1999), the original Saturday.</a></div>
      <div class="Body_Text"><a name="1226186">Automatic business day adjustments are performed prior to applying the offset parameter, so that </a></div>
      <div class="Input"><a name="1226187">@dateadd(dd, 1, "b") </a></div>
      <div class="Body_Text"><a name="1226188">returns 730094.0 (December 7, 1999), the following Tuesday, while </a></div>
      <div class="Input"><a name="1226189">@dateadd(dd, 1, "b", 1) </a></div>
      <div class="Body_Text"><a name="1226190">returns 730093.0 (December 6, 1999), the following Monday.</a></div>
      <div class="Body_Text"><a name="1226191">If DSER is a series containing date numbers,</a></div>
      <div class="Input"><a name="1226192">series dser1 = @dateadd(dser, 3, "mm")</a></div>
      <div class="Body_Text"><a name="1226193">produces the 3-month date number offsets associated for each observation for DSER in the workfile sample. You may use &#8220;@date&#8221; in place of DSER to obtain results using the built-in dates in the workfile structure.</a></div>
      <div class="Body_Text"><a name="1226194">If DVEC is an vector containing date numbers,</a></div>
      <div class="Input"><a name="1226195">vector avec = @dateadd(dvec, 3, "mm")</a></div>
      <div class="Body_Text"><a name="1226196">produces the 3-month date number offsets for elements of the vector.</a></div>
      <div class="Command_Section"><a name="1226197">Cross-references</a></div>
      <div class="Body_Text"><a name="1226204">See </a><span class="Link"><a href="dataapp-Dates.html#130279" title="Dates">&#8220;Dates&#8221;</a></span> and <span class="Link"><a href="dataapp-Dates.html#92716" title="Dates">&#8220;Date Formats&#8221;</a></span> for additional details on date numbers and date format strings. </div>
      <div class="Body_Text"><a name="1226211">See also </a><span class="In-line_command_link"><a href="functionref_d-@datediff.html#1226216" title="@datediff">@datediff</a></span> and <span class="In-line_command_link"><a href="functionref_d-@dateval.html#1226546" title="@dateval">@dateval</a></span>.</div>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
      document.write(WebWorksHTMLHelp.fPopupDivTag());
     // -->
    </script>
  </body>
</html>