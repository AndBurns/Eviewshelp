<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>open</title>
    <link rel="StyleSheet" href="css/commandcmd.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/popup.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/page.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWNoOp() {}
        function  WWNoValue() { return ""; }


        var  WebWorksHTMLHelp;
        var  WebWorksSeeAlso;
        var  WebWorksDropDown;


        if (typeof(HTMLHelp_Object) != "undefined")
        {
          WebWorksHTMLHelp = new HTMLHelp_Object();
          WebWorksSeeAlso  = new WebWorksSeeAlso_Object();
          WebWorksDropDown = new WebWorksDropDown_Object();
        }
        else
        {
          WebWorksHTMLHelp = new Object();
          WebWorksHTMLHelp.fNotifyClicked = WWNoOp;
          WebWorksHTMLHelp.fPopupDivTag   = WWNoValue;

          WebWorksSeeAlso = new Object();

          WebWorksDropDown = new Object();
          WebWorksDropDown.fWriteArrow  = WWNoOp;
          WebWorksDropDown.fWriteDIVOpen  = WWNoOp;
          WebWorksDropDown.fWriteDIVClose = WWNoOp;
        }
      // -->
    </script>
  </head>
  <body onclick="javascript:WebWorksHTMLHelp.fNotifyClicked();">
    <table cellspacing="0" align="left">
      <tr>
        <td>
          <a href="commandcmd-nrnd.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
        </td>
        <td>
          <a href="commandcmd-optsave.html"><img src="images/next.gif" alt="Next" border="0" /></a>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="cpreface.html">Command Reference</a> : Object and Command Basics : <a class="WebWorks_Breadcrumb_Link" href="commandcmd-Command_Reference.html">Command Reference</a> : Examples</div>
    <hr align="left" />
    <blockquote>
      <div class="Command_Title_Box"><a name="2015941">&nbsp;</a></div>
      <table class="Command_Heading" cellspacing="0" summary="">
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 2pt; padding-right: 4px; padding-top: 5pt; vertical-align: middle; width: 108pt">
            <div class="Command_Name"><a name="2015937">open</a></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 2pt; padding-right: 4px; padding-top: 5pt; vertical-align: middle; width: 252pt">
            <div class="Command_Header"><span class="Command_Header_link"><a href="commandcmd-Command_Reference.html#2023547" title="Command Reference" name="2015940">Object Container, Data, and File Commands</a></span> || <span class="Command_Header_link"><a href="commandcmd-Command_Reference.html#3080794" title="Command Reference">Programming Commands</a></span></div>
          </td>
        </tr>
      </table>
      <div class="Command_Description"><a name="2015942">Opens a program file, or text (ASCII) file.</a></div>
      <div class="Body_Text"><a name="2015943">This command should be used to open program files or text (ASCII) files for editing.</a></div>
      <div class="Body_Text"><a name="2015944">You may also use the command to open workfiles or databases. This use of the </a><span class="In-line_command">open</span> command for this purposes is provided for backward compatibility. We recommend instead that you use the new commands <span class="In-line_command_link"><a href="commandcmd-wfopen.html#2872547" title="wfopen">wfopen</a></span> and <span class="In-line_command_link"><a href="commandcmd-pageload.html#2872489" title="pageload">pageload</a></span> to open a workfile, and <span class="In-line_command_link"><a href="commandcmd-dbopen.html#2485382" title="dbopen">dbopen</a></span> to open databases.</div>
      <div class="Command_Section"><a name="2015954">Syntax</a></div>
      <div class="Command_Types"><span class="Command_Summary"><a name="2015955">open</a></span><span class="Argument" style="font-weight: normal">(options)</span> <span class="Argument">[path\]file_name</span></div>
      <div class="Body_Text"><a name="2015956">You should provide the name of the file to be opened including the extension (and optionally a path), or the file name without an extension but with an option identifying its type. Specified types always take precedence over automatic type identification. If a path is not provided, EViews will look for the file in the default directory.</a></div>
      <div class="Body_Text"><a name="2015957">Files with the &#8220;.PRG&#8221; extension will be opened as program files, unless otherwise specified. Files with the &#8220;.TXT&#8221; extension will be opened as text files, unless otherwise specified.</a></div>
      <div class="Body_Text"><a name="2015958">For backward compatibility, files with extensions that are recognized as database files are opened as EViews databases, unless an explicit type is specified. Similarly, files with the extensions &#8220;.WF&#8221; and &#8220;.WF1&#8221;, and foreign files with recognized extensions will be opened as workfiles, unless otherwise specified.</a></div>
      <div class="Body_Text"><a name="2015959">All other files will be read as text files. </a></div>
      <div class="Command_Section"><a name="2015960">Options</a></div>
      <div class="Table"><a name="2015974">&nbsp;</a></div>
      <table class="Options_Table" cellspacing="0" summary="">
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top; width: 72pt">
            <div class="Table_Text"><a name="2196767">p</a></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top; width: 234pt">
            <div class="Table_Text"><a name="2196769">Open file as program file.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2196771">t</a></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2196773">Open file as text file.</a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2196775">type=</a><span class="Argument_Opt">arg</span><span class="Argument"> </span>(&#8220;prg&#8221; or &#8220;txt&#8221;)</div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2196777">Specify text or program file type using keywords.</a></div>
          </td>
        </tr>
      </table>
      <div class="Command_Section"><a name="2015975">Examples</a></div>
      <div class="Input"><a name="2015976">open finfile.txt</a></div>
      <div class="Body_Text"><a name="2015977">opens a text file named &#8220;Finfile.TXT&#8221; in the default directory.</a></div>
      <div class="Input"><a name="2015978">open "c:\program files\my files\test1.prg"</a></div>
      <div class="Body_Text"><a name="2015979">opens a program file named &#8220;Test1.PRG&#8221; from the specified directory.</a></div>
      <div class="Input"><a name="2015980">open a:\mymemo.tex</a></div>
      <div class="Body_Text"><a name="2015981">opens a text file named </a><span class="EViews_Name">&#8220;</span>Mymemo.TEX<span class="EViews_Name">&#8221;</span> from the <span class="EViews_Name">A:</span> drive.</div>
      <div class="Command_Section"><a name="2015982">Cross-references</a></div>
      <div class="Body_Text"><a name="2015989">See </a><span class="In-line_command_link"><a href="commandcmd-wfopen.html#2872547" title="wfopen">wfopen</a></span> and <span class="In-line_command_link"><a href="commandcmd-pageload.html#2872489" title="pageload">pageload</a></span> for commands to open files as workfiles or workfile pages, and <span class="In-line_command_link"><a href="commandcmd-dbopen.html#2485382" title="dbopen">dbopen</a></span> for opening database files.</div>
      <div class="Table"><a name="2485560">&nbsp;</a></div>
      <table class="Command_Heading" cellspacing="0" summary="">
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 2pt; padding-right: 4px; padding-top: 5pt; vertical-align: middle; width: 108pt">
            <div class="Command_Name"><a name="2485568">optimize</a></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 2pt; padding-right: 4px; padding-top: 5pt; vertical-align: middle; width: 252pt">
            <div class="Command_Header"><span class="Command_Header_link"><a href="commandcmd-Command_Reference.html#3080794" title="Command Reference" name="2485573">Programming Commands</a></span></div>
          </td>
        </tr>
      </table>
      <div class="Command_Description"><a name="2485145">Find the solution to a user-defined optimization problem.</a></div>
      <div class="Body_Text"><a name="2485146">The </a><span class="In-line_command">optimize</span> command calls the EViews optimizer to find the optimal control values for a subroutine defined elsewhere in the program file or files.</div>
      <div class="Command_Section"><a name="2485147">Syntax</a></div>
      <div class="Command_Types"><span class="Command_Summary"><a name="2485148">optimize</a></span><span class="Argument_Opt" style="font-weight: normal">(options)</span> <span class="Argument_Opt">subroutine_name(arguments)</span></div>
      <div class="Body_Text"><a name="2485149">You should follow the optimize command keyword with options and </a><span class="Argument">subroutine_name</span>, the name of a defined subroutine in your program (or included programs). </div>
      <div class="Body_Text"><span class="Emphasis"><a name="2485150">The subroutine must contain at least two arguments</a></span>. </div>
      <div class="Body_Text"><a name="2485151">By default EViews will interpret the first argument as the output of the subroutine and will use it as the value to optimize. If the objective contains more than one value, as in a series or vector, EViews will optimize the sum of the values. The second argument is, by default, used to define the control parameters for which EViews will find the optimal values.</a></div>
      <div class="Body_Text"><a name="2485152">Since the objective and controls are defined by a standard EViews subroutine, the arguments of the subroutine may correspond to numbers, strings, and various EViews objects such as series, vectors, scalars</a><span class="Emphasis">.</span></div>
      <div class="Command_Section"><a name="2485153">Options</a></div>
      <div class="Command_Subsection"><a name="2485154">Optimization Objective and Controls</a></div>
      <div class="Body_Text"><a name="2485155">The default optimization objective is to maximize the first argument of the subroutine. You may use the following optimization options to change the optimization objective and to specify the coefficients (control parameters):</a></div>
      <div class="Table"><a name="2485184">&nbsp;</a></div>
      <table class="Options_Table" cellspacing="0" summary="">
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top; width: 85.64544pt">
            <div class="Table_Text"><a name="2485158">max </a><span class="Argument_Opt">[=integer]</span></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top; width: 234pt">
            <div class="Table_Text"><a name="2485160">Maximize the subroutine objective or sum of the values of the subroutine objective </a><span class="Emphasis">(default).</span></div>
            <div class="Table_Text"><a name="2485161">By default the first argument of the subroutine is used as the maximization objective. You may change the objective to another argument by specifying an </a><span class="Argument_Opt">integer</span> argument location.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485163">min </a><span class="Argument_Opt">[=integer]</span></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485165">Minimize the subroutine objective or sum of the values of the subroutine objective.</a></div>
            <div class="Table_Text"><a name="2485166">By default the first argument of the subroutine is used as the minimization objective. You may change the objective to another argument by specifying an </a><span class="Argument_Opt">integer</span> argument location.</div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485168">ls </a><span class="Argument_Opt">[=integer]</span></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485170">Perform least squares minimization of the sum of squared values of the subroutine objective. </a><span class="Emphasis">(The objective argument cannot be a scalar value when using this option.)</span></div>
            <div class="Table_Text"><a name="2485171">By default the first argument of the subroutine is used as the minimization objective. You can change the objective to another argument by specifying an </a><span class="Argument_Opt">integer</span> argument location. </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485173">ml </a><span class="Argument_Opt">[=integer]</span></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485175">Perform maximum likelihood estimation of the sum of the values of the subroutine objective. </a><span class="Emphasis">(The objective argument cannot be a scalar value when using this option.)</span></div>
            <div class="Table_Text"><a name="2485176">By default the first argument of the subroutine is used as the maximization objective. You can change the objective to another argument by specifying an </a><span class="Argument_Opt">integer</span> argument location. </div>
            <div class="Table_Text"><a name="2485177">Note that the &#8220;ml&#8221; option specifies the same optimization as when using the &#8220;max&#8221; option, but permits a different set of Hessian matrix choices.</a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485179">coef=</a><span class="Argument_Opt">integer (default = 2)</span></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485181">Specify the argument number of the function that contains the coefficient controls for the optimization. </a></div>
            <div class="Table_Text"><a name="2485182">If the argument is a vector or matrix, each element of the vector or matrix will be treated as a coefficient. If the argument is a series, each element of the series within the current workfile sample will be treated as a coefficient.</a></div>
            <div class="Table_Text"><a name="2485183">The default value is 2 so that the second argument is assumed to contain the coefficient controls.</a></div>
          </td>
        </tr>
      </table>
      <div class="Command_Subsection"><a name="2485185">Optimization Options</a></div>
      <div class="Table"><a name="2485240">&nbsp;</a></div>
      <table class="Options_Table" cellspacing="0" summary="">
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top; width: 85.64544pt">
            <div class="Table_Text"><a name="2485188">grads=</a><span class="Argument_Opt">integer</span></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top; width: 234pt">
            <div class="Table_Text"><a name="2485190">Specifies an argument number corresponding to analytic gradients for each of the coefficients. If this option is not specified, gradients are evaluated numerically. </a></div>
            <div class="Table_Text"><a name="2485191">Available for &#8220;ls&#8221; and &#8220;ml&#8221; estimation.</a></div>
            <div class="Table_Text_Bullet">&#8226;	<a name="2485192">If the objective argument is a scalar, the gradient argument should be a vector of length equal to the number of elements in the coefficient argument.</a></div>
            <div class="Table_Text_Bullet">&#8226;	<a name="2485193">If the objective argument is a series, the gradient argument should be a group object containing one series per element of the coefficient argument. The series observations should contain the corresponding derivatives for each observation in the current workfile sample.</a></div>
            <div class="Table_Text_Bullet">&#8226;	<a name="2485194">For a vector objective, the gradient argument should be a matrix with number of rows equal to the length of the objective vector, and columns equal to the number of elements in the coefficient argument. </a></div>
            <div class="Table_Text_Bullet">&#8226;	<a name="2485195">&#8220;grad=&#8221; may not be specified if the objective is a matrix.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485197">hess=</a><span class="Argument_Opt">arg </span></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485199">Specify the type of Hessian approximation: &#8220;numeric&#8221; (numerical approximation), &#8220;bfgs&#8221; (Broyden&#8211;Fletcher&#8211;Goldfarb&#8211;Shanno), or &#8220;opg&#8221; (outer product of gradients, or BHHH).</a></div>
            <div class="Table_Text"><a name="2485200">&#8220;opg&#8221; is only available when using &#8220;ls&#8221; or &#8220;ml&#8221; optimization. The default value is &#8220;bfgs&#8221; unless using &#8220;ls&#8221; optimization, which defaults to &#8220;opg&#8221;.</a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485202">step=</a><span class="Argument_Opt">arg </span>(<span class="Argument_Opt">default_= </span>&#8220;marquardt&#8221;)</div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485204">Set the step method: &#8220;marquardt&#8221;, &#8220;dogleg&#8221; or &#8220;linesearch&#8221;.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485206">scale=</a><span class="Argument_Opt">arg</span></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485208">Set the scaling method: &#8220;maxcurve&#8221; (default), or &#8220;none&#8221;.</a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485210">m=</a><span class="Argument_Opt">int</span></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485212">Set the maximum number of iterations</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485214">c=</a><span class="Argument_Opt">number</span></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485216">Set the convergence criteria.</a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485218">trust=</a><span class="Argument_Opt">number </span>(<span class="Argument">default</span>=0.25)</div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485220">Sets the initial trust region size as a proportion of the initial control values. </a></div>
            <div class="Table_Text"><a name="2485221">Smaller values of this parameter may be used to provide a more cautious start to the optimization in cases where larger steps immediately lead into an undesirable region of the objective. </a></div>
            <div class="Table_Text"><a name="2485222">Larger values may be used to reduce the iteration count in cases where the objective is well behaved but the initial values may be far from the optimum values. </a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485224">deriv=high</a></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485226">Always use high precision numerical derivatives. Without this option, EViews will start by using lower precision derivatives, and switch to higher precision as the optimization progresses.</a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485228">feps=</a><span class="Argument_Opt">number </span>(<span class="Argument">default</span>=2.2e-16)</div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485230">Set the expected relative accuracy of the objective function. The value indicates what fraction of the observed objective value should be considered to be random noise.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485232">noerr</a></div>
          </td>
          <td style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485234">Turn off error reporting. </a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485236">finalh=</a><span class="Argument_Opt">name</span></div>
          </td>
          <td style="background-color: #F7F7F7; border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Black; border-left-style: solid; border-left-width: thin; border-right-color: Black; border-right-style: solid; border-right-width: thin; border-top-color: Black; border-top-style: solid; border-top-width: thin; padding-bottom: 5px; padding-left: 4pt; padding-right: 4px; padding-top: 4pt; vertical-align: top">
            <div class="Table_Text"><a name="2485238">Save the final Hessian matrix into the workfile with name </a><span class="Argument_Opt">name</span>. </div>
            <div class="Table_Text"><a name="2485239">For &#8220;hess=bfgs&#8221;, the final Hessian will be based on numeric derivatives rather than the BFGS approximation used during the optimization since the BFGS approximation need not converge to the true Hessian.</a></div>
          </td>
        </tr>
      </table>
      <div class="Heading_4"><a name="2485241">Examples</a></div>
      <div class="Body_Text"><a name="2485242">The first example estimates a regression model using maximum likelihood. The subroutine LOGLIKE first computes the regression residuals using the coefficients in the vector BETA along with the dependent variable series given by DEP and the regressors in the group REGS. </a></div>
      <div class="Multi-line_Example"><a name="2485243">subroutine loglike(series logl, vector beta, series dep, group regs)</a></div>
      <div class="Multi-line_Example"><a name="2485244">	series r = dep - beta(1) - beta(2)*regs(1) - beta(3)*regs(2) - &nbsp;&nbsp;&nbsp;beta(4)*regs(3)</a></div>
      <div class="Multi-line_Example"><a name="2485245">	logl = @log((1/beta(5))*@dnorm(r/beta(5)))</a></div>
      <div class="Multi-line_Example"><a name="2485246">endsub</a></div>
      <div class="Multi-line_Example"><a name="2485247">&nbsp;</a></div>
      <div class="Multi-line_Example"><a name="2485248">series LL</a></div>
      <div class="Multi-line_Example"><a name="2485249">vector(5) MLCoefs</a></div>
      <div class="Multi-line_Example"><a name="2485250">MLCoefs = 1</a></div>
      <div class="Multi-line_Example"><a name="2485251">MLCoefs(5) = 100</a></div>
      <div class="Multi-line_Example"><a name="2485252">optimize(ml=1, finalh=mlhess, hess=numeric) loglike(LL, MLCoefs, y, xs)</a></div>
      <div class="Body_Text"><a name="2485253">The </a><span class="In-line_command">optimize</span> command instructs EViews to use the LOGLIKE subroutine for purposes of maximization, and to use maximum likelihood to maximize the sum (over the workfile sample) of the LL series with respect to the five elements of the vector MLCOEFS. EViews employs a numeric approximation to the Hessian in optimization, and saves the final estimate in the workfile in the sym object MLHESS. </div>
      <div class="Body_Text"><a name="2485254">Notice that we specify initial values for the MLCOEFS coefficients prior to calling the optimization routine.</a></div>
      <div class="Body_Text"><a name="2485255">Our second example recasts the estimation above as a least squares optimization problem, and illustrates the use of the &#8220;grads=&#8221; option to employ analytically computed gradients defined in the subroutine.</a></div>
      <div class="Multi-line_Example"><a name="2485256">subroutine leastsquareswithgrads(series r, vector beta, group grads, series dep, group regs)</a></div>
      <div class="Multi-line_Example"><a name="2485257">	r = dep - beta(1) - beta(2)*regs(1) - beta(3)*regs(2) - &nbsp;&nbsp;&nbsp;beta(4)*regs(3)</a></div>
      <div class="Multi-line_Example"><a name="2485258">	grads(1) = 1</a></div>
      <div class="Multi-line_Example"><a name="2485259">	grads(2) = regs(1)</a></div>
      <div class="Multi-line_Example"><a name="2485260">	grads(3) = regs(2)</a></div>
      <div class="Multi-line_Example"><a name="2485261">	grads(4) = regs(3)</a></div>
      <div class="Multi-line_Example"><a name="2485262">endsub</a></div>
      <div class="Multi-line_Example"><a name="2485263">&nbsp;</a></div>
      <div class="Multi-line_Example"><a name="2485264">series LSresid</a></div>
      <div class="Multi-line_Example"><a name="2485265">vector(4) LSCoefs</a></div>
      <div class="Multi-line_Example"><a name="2485266">lscoefs = 1</a></div>
      <div class="Multi-line_Example"><a name="2485267">series grads1</a></div>
      <div class="Multi-line_Example"><a name="2485268">series grads2</a></div>
      <div class="Multi-line_Example"><a name="2485269">series grads3</a></div>
      <div class="Multi-line_Example"><a name="2485270">series grads4</a></div>
      <div class="Multi-line_Example"><a name="2485271">group grads grads1 grads2 grads3 grads4</a></div>
      <div class="Multi-line_Example"><a name="2485272">optimize(ls=1, grads=3) leastsquareswithgrads(LSresid, lscoefs, grads, y, xs)</a></div>
      <div class="Body_Text"><a name="2485273">Note that for a linear least squares problem, the derivatives of the coefficients are trivial - the regressors themselves (and a series of ones for the constant).</a></div>
      <div class="Body_Text"><a name="2485274">The next example uses matrix computation to obtain an optimizer objective that finds the solution to the same least squares problem. While the optimizer is not a solver, we can trick it into solving that equation by creating a vector of residuals equal to <img class="Default EquationGraphic" src="images/commandcmd.098.085.1.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 110px; top: 0.0pt" alt="" />, and asking the optimizer to find the values of <img class="Default EquationGraphic" src="images/commandcmd.098.085.2.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 15px; top: 0.0pt" alt="" /> that minimize the square of those residuals:</a></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485281">subroutine local matrixsolve(vector rvec, vector beta, series dep, group regs)</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485282">	stom(regs, xmat)</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485283">	xmat = @hcat(@ones(100), xmat)</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485284">	stom(dep, yvec)</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485285">	rvec = @transpose(xmat)*xmat*beta - @transpose(xmat)*yvec</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485286">	rvec = @epow(rvec,2)</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485287">endsub</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485288">vector(4) MSCoefs</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485289">MSCoefs = 1</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485290">vector(4) rvec</a></span></div>
      <div class="Multi-line_Example"><span class="In-line_command"><a name="2485291">optimize(min=1) matrixsolve(rvec, mscoefs, y, xs)</a></span></div>
      <div class="Body_Text"><a name="2485292">The first few lines of the subroutine convert the input dependent variable series and regressor group into matrices. Note that the regressor group does not contain a constant term upon input, so we append a column of ones to the regression matrix XMAT, using the </a><span class="In-line_command">@hcat</span> command.</div>
      <div class="Body_Text"><a name="2485293">Lastly, we define a subroutine containing the quadratic form, and use the optimize command to find the value that minimizes the function:</a></div>
      <div class="Multi-line_Input"><a name="2485294">subroutine f(scalar !y, scalar !x)</a></div>
      <div class="Multi-line_Input"><a name="2485295">	!y = 5*!x^2 - 3*!x - 2</a></div>
      <div class="Multi-line_Input"><a name="2485296">endsub</a></div>
      <div class="Multi-line_Input"><a name="2485297">scalar in = 0</a></div>
      <div class="Multi-line_Input"><a name="2485298">scalar out = 0</a></div>
      <div class="Multi-line_Input"><a name="2485299">optimize(min) f(out, in)</a></div>
      <div class="Body_Text"><a name="2485300">The subroutine F calculates the simple quadratic formula:</a></div>
      <table style="width: 90%; margin-left: 80px; margin-right: 80px">
        <tr>
          <td style="padding-left: 5%; text-align: left;">
            <img src="images/commandcmd.098.085.3.jpg" class="EquationGraphic" style="border: 0px; vertical-align: baseline;" />
          </td>
          <td style="padding-right: 20px; text-align: right;">
            <div style="font-weight: normal; font-size: small; font-family: Verdana, Serif;">(17.1)</div>
          </td>
        </tr>
      </table>
      <div class="Body_Text"><a name="2485305">which attains a minimum of -2.45 at an IN value of 0.3.</a></div>
      <div class="Command_Section"><a name="2485306">Cross-references</a></div>
      <div class="Body_Text"><a name="2485130">For discussion, see </a><span class="Link"><a href="optimize_cr-User-Defined_Optimization.html#239557" title="User-Defined Optimization">&#8220;User-Defined Optimization&#8221;</a></span>.</div>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
      document.write(WebWorksHTMLHelp.fPopupDivTag());
     // -->
    </script>
  </body>
</html>