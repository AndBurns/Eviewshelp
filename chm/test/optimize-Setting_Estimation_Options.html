<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Setting Estimation Options</title>
    <link rel="StyleSheet" href="css/optimize.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/popup.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/page.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWNoOp() {}
        function  WWNoValue() { return ""; }


        var  WebWorksHTMLHelp;
        var  WebWorksSeeAlso;
        var  WebWorksDropDown;


        if (typeof(HTMLHelp_Object) != "undefined")
        {
          WebWorksHTMLHelp = new HTMLHelp_Object();
          WebWorksSeeAlso  = new WebWorksSeeAlso_Object();
          WebWorksDropDown = new WebWorksDropDown_Object();
        }
        else
        {
          WebWorksHTMLHelp = new Object();
          WebWorksHTMLHelp.fNotifyClicked = WWNoOp;
          WebWorksHTMLHelp.fPopupDivTag   = WWNoValue;

          WebWorksSeeAlso = new Object();

          WebWorksDropDown = new Object();
          WebWorksDropDown.fWriteArrow  = WWNoOp;
          WebWorksDropDown.fWriteDIVOpen  = WWNoOp;
          WebWorksDropDown.fWriteDIVClose = WWNoOp;
        }
      // -->
    </script>
  </head>
  <body onclick="javascript:WebWorksHTMLHelp.fNotifyClicked();">
    <table cellspacing="0" align="left">
      <tr>
        <td>
          <a href="optimize-Estimation_and_Solution_Options.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
        </td>
        <td>
          <a href="optimize-Optimization_Algorithms.html"><img src="images/next.gif" alt="Next" border="0" /></a>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="preface.html">User&#8217;s Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="optimize-Estimation_and_Solution_Options.html">Estimation and Solution Options</a> : Setting Estimation Options</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_3"><a name="137039">Setting Estimation Options</a></div>
      <div class="WebWorks_MiniTOC">
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#146519">Optimization Method</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#146961">Iteration and Convergence</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#146943">Starting Coefficient Values</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#137109">Derivative Computation</a>
        </div>
      </div>
      <div class="Body_Text"><a name="137041">When you estimate an equation in EViews, you enter specification information into the </a><span class="Menu_Item">Specification</span> tab of the <span class="Menu_Item">Equation Estimation</span> dialog. Clicking on the <span class="Dialog_Item">Options</span> tab displays a dialog that allows you to set various options to control the estimation procedure. The contents of the dialog will differ depending upon the options available for a particular estimation procedure.</div>
      <div class="Body_Text"><a name="146480">The default settings for the options will be taken from the global options (</a><span class="Link"><a href="globalapp-The_Options_Menu.html#143414" title="The Options Menu">&#8220;Estimation Defaults&#8221;</a></span>), or from the options used previously to estimate the object. </div>
      <div class="Body_Text"><a name="146496">The </a><span class="Menu_Item">Options</span> tab for binary models is depicted here. For other estimator and estimation techniques (<span class="Emphasis">e.g.</span> systems) the dialog will differ to reflect the different estimation options that are available.</div>
      <div class="Picture"><a name="137045"><img class="Default" src="images/optimize.077.2.1.jpg" width="100%" style="left: 0.0pt; max-height: 400px; max-width: 506px; top: 0.0pt" alt="" /></a></div>
      <div class="Heading_4"><a name="146519">Optimization Method</a></div>
      <div class="Body_Text"><a name="146799">A majority of the EViews nonlinear estimators offer you the choice of optimization method. For these estimators, the </a><span class="Menu_Item">Optimization method</span> dropdown menu lets you choose between the <span class="Menu_Item">BFGS</span>, <span class="Menu_Item">Gauss-Newton</span>, <span class="Menu_Item">Newton-Raphson</span>, and <span class="Menu_Item">EViews Legacy</span> methods. The default method is estimator specific.</div>
      <div class="Body_Text"><a name="146889">In general, the differences between the estimates should be small for well-behaved nonlinear specifications, but if you are experiencing optimization difficulties, you may wish to experiment with methods. Note that EViews legacy is a particular implementation of Gauss-Newton with Marquardt or line search steps, and is provided for backward estimation compatibility.</a></div>
      <div class="Body_Text"><a name="146520">The </a><span class="Menu_Item">Step method</span> allow you to choose the approach for choosing candidate iterative steps. The default method is <span class="Menu_Item">Marquardt</span>, but you may instead select <span class="Menu_Item">Dogleg</span> or <span class="Menu_Item">Line Search</span>.</div>
      <div class="Body_Text"><a name="146958">See </a><span class="Link"><a href="optimize-Optimization_Algorithms.html#137130" title="Optimization Algorithms">&#8220;Optimization Algorithms&#8221;</a></span> for extensive discussion.</div>
      <div class="Heading_4"><a name="146961">Iteration and Convergence</a></div>
      <div class="Body_Text"><a name="146962">There are two common iteration stopping rules: based on the change in the objective function, or based on the change in parameters. The convergence rule used in EViews is based upon changes in the parameter values. This rule is generally conservative, since the change in the objective function may be quite small as we approach the optimum (this is how we choose the direction), while the parameters may still be changing.</a></div>
      <div class="Body_Text"><a name="146899">The exact rule in EViews is based on comparing the norm of the change in the parameters with the norm of the current parameter values. More specifically, the convergence test is:</a></div>
      <table style="width: 90%; margin-left: 80px; margin-right: 80px;">
        <tr>
          <td style="padding-left: 5%; text-align: left;">
            <img src="images/optimize.077.2.2.jpg" class="EquationGraphic" style="border: 0px; vertical-align: baseline;" />
          </td>
          <td style="padding-right: 20px; text-align: right;">
            <div style="font-weight: normal; font-size: small; font-family: Verdana, Serif;">(60.13)</div>
          </td>
        </tr>
      </table>
      <div class="Body_Text"><a name="146913">where <img class="Default EquationGraphic" src="images/optimize.077.2.3.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 13px; top: 0.0pt" alt="" /> is the vector of parameters, <img class="Default EquationGraphic" src="images/optimize.077.2.4.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 35px; top: 0.0pt" alt="" /> is the 2-norm of <img class="Default EquationGraphic" src="images/optimize.077.2.5.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 13px; top: 0.0pt" alt="" />, and </a><span class="Argument">tol</span> is the specified tolerance. However, before taking the norms, each parameter is scaled based on the largest observed norm across iterations of the derivative of the least squares residuals with respect to that parameter. This automatic scaling system makes the convergence criteria more robust to changes in the scale of the data, but does mean that restarting the optimization from the final converged values may cause additional iterations to take place, due to slight changes in the automatic scaling value when started from the new parameter values.</div>
      <div class="Body_Text"><a name="146914">The estimation process achieves convergence if the stopping rule is reached using the tolerance specified in the </a><span class="Menu_Item">Convergence</span> edit box of the Estimation Dialog or the Estimation Options Dialog. By default, the box will be filled with the tolerance value specified in the global estimation options, or if the estimation object has previously been estimated, it will be filled with the convergence value specified for the last set of estimates.</div>
      <div class="Body_Text"><a name="146916">EViews may stop iterating even when convergence is not achieved. This can happen for two reasons. First, the number of iterations may have reached the prespecified upper bound. In this case, you should reset the maximum number of iterations to a larger number and try iterating until convergence is achieved. </a></div>
      <div class="Body_Text"><a name="146918">Second, EViews may issue an error message indicating a &#8220;Failure to improve&#8221;after a number of iterations. This means that even though the parameters continue to change, EViews could not find a direction or step size that improves the objective function. This can happen when the objective function is ill-behaved; you should make certain that your model is identified. You might also try other starting values to see if you can approach the optimum from other directions.</a></div>
      <div class="Body_Text"><a name="146919">Lastly, EViews may converge, but warn you that there is a singularity and that the coefficients are not unique. In this case, EViews will not report standard errors or </a><span class="In-line_math">t</span>-statistics for the coefficient estimates.</div>
      <div class="Heading_4"><a name="146943">Starting Coefficient Values</a></div>
      <div class="Body_Text"><a name="137051">Iterative estimation procedures require starting values for the coefficients of the model. There are no general rules for selecting starting values for parameters. Obviously, the closer to the true values, the better, so if you have reasonable guesses for parameter values, these can be useful. In some cases, you can obtain starting values by estimating a restricted version of the model. In general, however, you may have to experiment to find good starting values.</a></div>
      <div class="Body_Text"><a name="137052">EViews follows three basic rules for selecting starting values:</a></div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137053">For nonlinear least squares type problems, EViews uses the values in the coefficient vector at the time you begin the estimation procedure as starting values.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137054">For system estimators and ARCH, EViews uses starting values based upon preliminary single equation OLS or TSLS estimation. In the dialogs for these estimators, the drop-down menu for setting starting values will not appear.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137055">For selected estimation techniques (binary, ordered, count, censored and truncated), EViews has built-in algorithms for determining the starting values using specific information about the objective function. These will be labeled in the </a><span class="Menu_Item">Starting coefficient values </span>dropdown menu as <span class="Dialog_Item">EViews supplied</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body_Text"><a name="137056">In the latter two cases, you may change this default behavior by selecting an item from the </a><span class="Dialog_Item">Starting coefficient values</span> drop down menu. You may choose fractions of the default starting values, zero, or arbitrary <span class="Dialog_Item">User Supplied</span>.</div>
      <div class="Body_Text"><a name="137057">If you select </a><span class="Dialog_Item">User Supplied</span>, EViews will use the values stored in the C coefficient vector at the time of estimation as starting values. To see the starting values, double click on the coefficient vector in the workfile directory. If the values appear to be reasonable, you can close the window and proceed with estimating your model.</div>
      <div class="Body_Text"><a name="137058">If you wish to change the starting values, first make certain that the spreadsheet view of the coefficient vector is in edit mode, then enter the coefficient values. When you are finished setting the initial values, close the coefficient vector window and estimate your model. </a></div>
      <div class="Body_Text"><a name="137061">You may also set starting coefficient values from the command window using the PARAM command. Simply enter the </a><span class="In-line_command">param</span> keyword, followed by pairs of coefficients and their desired values:</div>
      <div class="Input"><a name="137062">param c(1) 153 c(2) .68 c(3) .15</a></div>
      <div class="Body_Text"><a name="137063">sets C(1)=153, C(2)=.68, and C(3)=.15. All of the other elements of the coefficient vector are left unchanged.</a></div>
      <div class="Body_Text"><a name="137064">Lastly, if you want to use estimated coefficients from another equation, select </a><span class="Menu_Item">Proc/Update Coefs from Equation</span> from the equation window toolbar. </div>
      <div class="Body_Text"><a name="137067">For nonlinear least squares problems or situations where you specify the starting values, bear in mind that:</a></div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137068">The objective function must be defined at the starting values. For example, if your objective function contains the expression 1/C(1), then you cannot set C(1) to zero. Similarly, if the objective function contains LOG(C(2)), then C(2) must be greater than zero.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137069">A poor choice of starting values may cause the nonlinear least squares algorithm to fail. EViews begins nonlinear estimation by taking derivatives of the objective function with respect to the parameters, evaluated at these values. If these derivatives are not well behaved, the algorithm may be unable to proceed.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_Continue"><a name="137070">If, for example, the starting values are such that the derivatives are all zero, you will immediately see an error message indicating that EViews has encountered a &#8220;Near Singular Matrix&#8221;, and the estimation procedure will stop.</a></div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137073">Unless the objective function is globally concave, iterative algorithms may stop at a local optimum. There will generally be no evidence of this fact in any of the output from estimation.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_Continue"><a name="139754">If you are concerned with the possibility of local optima, you may wish to select various starting values and see whether the estimates converge to the same values. One common suggestion is to estimate the model and then randomly alter each of the estimated coefficients by some percentage, then use these new coefficients as starting values in estimation.</a></div>
      <div class="Heading_4"><a name="137109">Derivative Computation</a></div>
      <div class="Body_Text"><a name="146989">In many EViews estimation procedures, you can specify the form of the function for the mean equation or the objective function. For example, when estimating a regression model, you may specify an arbitrary nonlinear expression in the coefficients. In these cases, when estimating the model, EViews needs to compute derivatives of the user-specified function. EViews uses two techniques for evaluating derivatives: numeric (finite difference) and analytic. </a></div>
      <div class="Body_Text"><a name="147034">In most cases, you need not worry about the settings for the derivative computation. The EViews estimation engine will generally employ analytic expressions for the derivatives, if possible, or will compute high numeric derivatives, switching between lower precision computation early in the iterative procedure and higher precision computation for later iterations and final computation. </a></div>
      <div class="Body_Text"><a name="147216">For the legacy optimizer, EViews may offer you with the option of computing analytic expressions for these derivatives (if possible), or computing finite difference numeric derivatives in cases where the derivative is not constant. Furthermore, if numeric derivatives are computed, you can choose whether to favor speed of computation (fewer function evaluations) or whether to favor accuracy (more function evaluations)</a></div>
      <div class="Body_Text"><a name="147065">The some cases, EViews will offer you settings for controlling the derivative taking:</a></div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137112">By default, EViews will fill the options dialog with the global estimation settings. If the </a><span class="Menu_Item">Use numeric only</span> setting is chosen, EViews will only compute the derivatives using finite difference methods. If this setting is not checked, EViews will attempt to compute analytic derivatives, and will use numeric derivatives only where necessary.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137113">EViews will ignore the numeric derivative setting and use an analytic derivative whenever a coefficient derivative is a constant value.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137114">For some procedures where the range of specifications allowed is limited (</a><span class="Emphasis">e.g.</span>, VARs, pools), EViews always uses analytic first and/or second derivatives, whatever the values of these settings.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137116">In a limited number of cases, EViews will always use numeric derivatives. For example, selected GARCH (see </a><span class="Link"><a href="arch-Estimating_ARCH_Models_in_EViews.html#141418" title="Estimating ARCH Models in EViews">&#8220;Derivative Methods&#8221;</a></span>) and state space models always use numeric derivatives. As noted above, MA coefficient derivatives are always computed numerically.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="137117">Logl objects always use numeric derivatives unless you provide the analytic derivatives in the specification.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Picture"><a name="137122"><img class="Default" src="images/optimize.077.2.6.jpg" width="100%" style="left: 0.0pt; max-height: 459px; max-width: 490px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="137123">Where relevant, the estimation options dialog allows you to control the method of taking derivatives. For example, the options dialog for standard regression allows you to override the use of EViews analytic derivatives. If you elect to use EViews legacy estimation, the dialog will also allow you to choose between favoring speed or accuracy in the computation of any numeric derivatives (note that the additional LS and TSLS options are discussed in detail in </a><span class="Link"><a href="Regress2-Additional_Regression_Tools.html#265471" title="Additional Regression Tools">&#8220;Additional Regression Tools&#8221;</a></span>).</div>
      <div class="Body_Text"><a name="137127">Computing the more accurate numeric derivatives requires additional objective function evaluations. EViews legacy computes numeric derivatives using either a one-sided finite difference (favor speed), or using a four-point routine using Richardson extrapolation (favor precision). Additional details are provided in Kincaid and Cheney (1996). The newer EViews engine computes derivatives in an adaptive method to achieve high precision.</a></div>
      <div class="Body_Text"><a name="137128">Analytic derivatives will often be faster and more accurate than numeric derivatives, especially if the analytic derivatives have been simplified and carefully optimized to remove common subexpressions. Numeric derivatives will sometimes involve fewer floating point operations than analytic, and in these circumstances, may be faster.</a></div>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
      document.write(WebWorksHTMLHelp.fPopupDivTag());
     // -->
    </script>
  </body>
</html>