<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Frequency (Band-Pass) Filter</title>
    <link rel="StyleSheet" href="css/series.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/popup.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/page.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWNoOp() {}
        function  WWNoValue() { return ""; }


        var  WebWorksHTMLHelp;
        var  WebWorksSeeAlso;
        var  WebWorksDropDown;


        if (typeof(HTMLHelp_Object) != "undefined")
        {
          WebWorksHTMLHelp = new HTMLHelp_Object();
          WebWorksSeeAlso  = new WebWorksSeeAlso_Object();
          WebWorksDropDown = new WebWorksDropDown_Object();
        }
        else
        {
          WebWorksHTMLHelp = new Object();
          WebWorksHTMLHelp.fNotifyClicked = WWNoOp;
          WebWorksHTMLHelp.fPopupDivTag   = WWNoValue;

          WebWorksSeeAlso = new Object();

          WebWorksDropDown = new Object();
          WebWorksDropDown.fWriteArrow  = WWNoOp;
          WebWorksDropDown.fWriteDIVOpen  = WWNoOp;
          WebWorksDropDown.fWriteDIVClose = WWNoOp;
        }
      // -->
    </script>
  </head>
  <body onclick="javascript:WebWorksHTMLHelp.fNotifyClicked();">
    <table cellspacing="0" align="left">
      <tr>
        <td>
          <a href="series-Hodrick-Prescott_Filter.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
        </td>
        <td>
          <a href="series-Whiten_Data.html"><img src="images/next.gif" alt="Next" border="0" /></a>
        </td>
      </tr>
    </table>
    <br clear="all" />
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="preface.html">User&#8217;s Guide</a> : <a class="WebWorks_Breadcrumb_Link" href="sec_data.html">Basic Data Analysis</a> : <a class="WebWorks_Breadcrumb_Link" href="series-Series.html">Series</a> : Frequency (Band-Pass) Filter</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_3"><a name="133982">Frequency (Band-Pass) Filter</a></div>
      <div class="WebWorks_MiniTOC">
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#134021">Computing a Band-Pass Filter in EViews</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#134044">The Filter Output</a>
        </div>
        <div class="WebWorks_MiniTOC_Level1">
          <a class="WebWorks_MiniTOC_Link" href="#134071">The Weight Matrix</a>
        </div>
      </div>
      <div class="Body_Text"><a name="133983">EViews computes several forms of band-pass (frequency) filters. These filters are used to isolate the cyclical component of a time series by specifying a range for its duration. Roughly speaking, the band-pass filter is a linear filter that takes a two-sided weighted moving average of the data where cycles in a &#8220;band&#8221;, given by a specified lower and upper bound, are &#8220;passed&#8221; through, or extracted, and the remaining cycles are &#8220;filtered&#8221; out.</a></div>
      <div class="Body_Text"><a name="133984">To employ a band-pass filter, the user must first choose the range of durations (</a><span class="Definition">periodicities</span>) to pass through. The range is described by a pair of numbers <img class="Default EquationGraphic" src="images/series.017.34.01.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 69px; top: 0.0pt" alt="" />, specified in units of the workfile frequency. Suppose, for example, that you believe that the business cycle lasts somewhere from 1.5 to 8 years so that you wish to extract the cycles in this range. If you are working with quarterly data, this range corresponds to a low duration of 6, and an upper duration of 32 quarters. Thus, you should set <img class="Default EquationGraphic" src="images/series.017.34.02.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 62px; top: 0.0pt" alt="" /> and <img class="Default EquationGraphic" src="images/series.017.34.03.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 71px; top: 0.0pt" alt="" />.</div>
      <div class="Body_Text"><a name="133994">In some contexts, it will be useful to think in terms of frequencies which describe the number of cycles in a given period (obviously, periodicities and frequencies are inversely related). By convention, we will say that periodicities in the range <img class="Default EquationGraphic" src="images/series.017.34.04.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 69px; top: 0.0pt" alt="" /> correspond to frequencies in the range <img class="Default EquationGraphic" src="images/series.017.34.05.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 133px; top: 0.0pt" alt="" />.</a></div>
      <div class="Body_Text"><a name="134001">Note that since saying that we have a cycle with a period of 1 is meaningless, we require that <img class="Default EquationGraphic" src="images/series.017.34.06.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 91px; top: 0.0pt" alt="" />. Setting <img class="Default EquationGraphic" src="images/series.017.34.07.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 25px; top: 0.0pt" alt="" /> to the lower-bound value of 2 yields a </a><span class="Definition">high-pass filter</span> in which all frequencies above <img class="Default EquationGraphic" src="images/series.017.34.08.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 58px; top: 0.0pt" alt="" /> are passed through.</div>
      <div class="Body_Text"><a name="134011">The various band-pass filters differ in the way that they compute the moving average:</a></div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="134012">The fixed length symmetric filters employ a fixed lead/lag length. Here, the user must specify the fixed number of lead and lag terms to be used when computing the weighted moving average. The symmetric filters are time-invariant since the moving average weights depend only on the specified frequency band, and do not use the data. EViews computes two variants of this filter, the first due to Baxter-King (1999) (BK), and the second to Christiano-Fitzgerald (2003) (CF). The two forms differ in the choice of objective function used to select the moving average weights.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List__0028Bullet_0029_outer" style="margin-left: 65.6px">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="List__0028Bullet_0029_inner" style="width: 10.799999999999997pt; white-space: nowrap">&#8226;	</div>
            </td>
            <td width="100%">
              <div class="List__0028Bullet_0029_inner"><a name="134013">Full sample asymmetric &#8211; this is the most general filter, where the weights on the leads and lags are allowed to differ. The asymmetric filter is time-varying with the weights both depending on the data and changing for each observation. EViews computes the Christiano-Fitzgerald (CF) form of this filter.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body_Text"><a name="134014">In choosing between the two methods, bear in mind that the fixed length filters require that we use same number of lead and lag terms for every weighted moving average. Thus, a filtered series computed using <img class="Default EquationGraphic" src="images/series.017.34.09.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 13px; top: 0.0pt" alt="" /> leads and lags observations will lose <img class="Default EquationGraphic" src="images/series.017.34.10.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 13px; top: 0.0pt" alt="" /> observations from both the beginning and end of the original sample. In contrast, the asymmetric filtered series do not have this requirement and can be computed to the ends of the original sample.</a></div>
      <div class="Heading_4"><a name="134021">Computing a Band-Pass Filter in EViews</a></div>
      <div class="Body_Text"><a name="134022">The band-pass filter is available as a series Proc in EViews. To display the band-pass filter dialog, select </a><span class="Menu_Item">Proc/Frequency Filter...</span> from the main series menu.</div>
      <div class="Body_Text"><a name="134023">The first thing you will do is to select a filter type. There are three types: </a><span class="Menu_Item">Fixed length symmetric (Baxter-King)</span>, <span class="Menu_Item">Fixed length symmetric (Christiano-Fitzgerald)</span>, or <span class="Menu_Item">Full length asymmetric (Christiano-Fitzgerald)</span>. By default, the EViews will compute the Baxter-King fixed length symmetric filter. </div>
      <div class="Picture"><a name="134027"><img class="Default" src="images/series.017.34.11.jpg" width="100%" style="left: 0.0pt; max-height: 303px; max-width: 425px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="134028">For the Baxter-King filter, there are only a few options that require your attention. First, you must select a frequency length (lead/lags) for the moving average, and the low and high values for the cycle period <img class="Default EquationGraphic" src="images/series.017.34.12.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 69px; top: 0.0pt" alt="" /> to be filtered. By default, these fields will be filled in with reasonable default values that are based on the type of your workfile.</a></div>
      <div class="Body_Text"><a name="134032">Lastly, you may enter the names of objects to contain saved output for the cyclical and non-cyclical components. The </a><span class="Menu_Item">Cycle series</span> will be a series object containing the filtered series (cyclical component), while the <span class="Menu_Item">Non-cyclical series</span> is simply the difference between the actual and the filtered series. The user may also retrieve the moving average weights used in the filter. These weights, which will be placed in a matrix object, may be used to plot customized frequency response functions. Details are provided below in <span class="Link"><a href="#134071" title="Frequency (Band-Pass) Filter">&#8220;The Weight Matrix&#8221;</a></span>.</div>
      <div class="Picture"><a name="134039"><img class="Default" src="images/series.017.34.13.jpg" width="100%" style="left: 0.0pt; max-height: 303px; max-width: 421px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="134040">Both of the CF filters (symmetric and asymmetric) provide you with additional options for handling trending data.</a></div>
      <div class="Body_Text"><a name="134041">The first setting involves the </a><span class="Menu_Item">Stationarity assumption</span>. For both of the CF, you will need to specify whether the series is assumed to be an I(0) covariance stationary process or an I(1) unit root process.</div>
      <div class="Body_Text"><a name="134042">Lastly, you will select a </a><span class="Menu_Item">Detrending method</span> using the dropdown. For a covariance stationary series, you may choose to demean or detrend the data prior to applying the filters. Alternatively, for a unit root process, you may choose to demean, detrend, or remove drift using the adjustment suggested by Christiano and Fitzgerald (2003).</div>
      <div class="Body_Text"><a name="134043">Note that, as the name suggests, the full sample filter uses all of the observations in the sample, so that the </a><span class="Menu_Item">Lead/Lags</span> option is not relevant. Similarly, detrending the data is not an option when using the BK fixed length symmetric filter. The BK filter removes up to two unit roots (a quadratic deterministic trend) in the data so that detrending has no effect on the filtered series.</div>
      <div class="Heading_4"><a name="134044">The Filter Output</a></div>
      <div class="Body_Text"><a name="134045">Here, we depict the output from the Baxter-King filter using the series LOG(GDP) in the workfile &#8220;Bpf.WF1&#8221;. The results were produced by selecting </a><span class="Menu_Item">Proc/Frequency Filter...</span> from the main series menu and clicking on <span class="Menu_Item">OK</span> to accept the default settings. (We have added grid lines to the graph to make it easier to see the cyclical behavior). The left panel depicts the original series, filtered series, and the non-cyclical component (difference between the original and the filtered).</div>
      <div class="Picture"><a name="134049"><img class="Default" src="images/series.017.34.14.jpg" width="100%" style="left: 0.0pt; max-height: 342px; max-width: 714px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="134050">For the BK and CF fixed length symmetric filters, EViews plots the frequency response function <img class="Default EquationGraphic" src="images/series.017.34.15.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 41px; top: 0.0pt" alt="" /> representing the extent to which the filtered series &#8220;responds&#8221; to the original series at frequency <img class="Default EquationGraphic" src="images/series.017.34.16.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 16px; top: 0.0pt" alt="" />. At a given frequency <img class="Default EquationGraphic" src="images/series.017.34.17.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 16px; top: 0.0pt" alt="" />, <img class="Default EquationGraphic" src="images/series.017.34.18.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 27px; max-width: 60px; top: 0.0pt" alt="" /> indicates the extent to which a moving average raises or lowers the variance of the filtered series relative to that of the original series. The right panel of the graph depicts the function. Note that the horizontal axis of a frequency response function is always in the range 0 to 0.5, in units of cycles per duration. Thus, as depicted in the graph, the frequency response function of the ideal band-pass filter for periodicities <img class="Default EquationGraphic" src="images/series.017.34.19.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 69px; top: 0.0pt" alt="" /> will be one in the range <img class="Default EquationGraphic" src="images/series.017.34.20.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 110px; top: 0.0pt" alt="" />.</a></div>
      <div class="Body_Text"><a name="134069">The frequency response function is not drawn for the CF time-varying filter since these filters vary with the data and observation number. If you wish to plot the frequency response function for a particular observation, you will have to save the weight matrix and then evaluate the frequency response in a separate step. The example program BFP02.PRG and subroutine FREQRESP.PRG illustrate the steps in computing of gain functions for time-varying filters at particular observations.</a></div>
      <div class="Heading_4"><a name="134071">The Weight Matrix</a></div>
      <div class="Body_Text"><a name="134072">For time-invariant (fixed-length symmetric) filters, the weight matrix is of dimension <img class="Default EquationGraphic" src="images/series.017.34.21.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 81px; top: 0.0pt" alt="" /> where <img class="Default EquationGraphic" src="images/series.017.34.22.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 13px; top: 0.0pt" alt="" /> is the user-specified lag length order. For these filters, the weights on the leads and the lags are the same, so the returned matrix contains only the one-sided weights. The filtered series can be computed as:</a></div>
      <div class="Multi-line_Eq_No_Number"><a name="134082"><img class="Default EquationGraphic" src="images/series.017.34.23.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 40px; max-width: 571px; top: 0.0pt" alt="" /></a></div>
      <div class="Body_Text"><a name="134089">For time-varying filters, the weight matrix is of dimension <img class="Default EquationGraphic" src="images/series.017.34.24.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 43px; top: 0.0pt" alt="" /> where <img class="Default EquationGraphic" src="images/series.017.34.25.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 15px; top: 0.0pt" alt="" /> is the number of non-missing observations in the current sample. Row <img class="Default EquationGraphic" src="images/series.017.34.26.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 12px; top: 0.0pt" alt="" /> of the matrix contains the weighting vector used to generate the <img class="Default EquationGraphic" src="images/series.017.34.27.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 12px; top: 0.0pt" alt="" />-th observation of the filtered series where column <img class="Default EquationGraphic" src="images/series.017.34.28.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 13px; top: 0.0pt" alt="" /> contains the weight on the <img class="Default EquationGraphic" src="images/series.017.34.29.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 13px; top: 0.0pt" alt="" />-th observation of the original series:</a></div>
      <table style="width: 90%; margin-left: 80px; margin-right: 80px;">
        <tr>
          <td style="padding-left: 5%; text-align: left;">
            <img src="images/series.017.34.30.jpg" class="EquationGraphic" style="border: 0px; vertical-align: baseline;" />
          </td>
          <td style="padding-right: 20px; text-align: right;">
            <div style="font-weight: normal; font-size: small; font-family: Verdana, Serif;">(11.107)</div>
          </td>
        </tr>
      </table>
      <div class="Body_Text"><a name="134118">where <img class="Default EquationGraphic" src="images/series.017.34.31.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 17px; top: 0.0pt" alt="" /> is the filtered series, <img class="Default EquationGraphic" src="images/series.017.34.32.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 25px; max-width: 18px; top: 0.0pt" alt="" /> is the original series and <img class="Default EquationGraphic" src="images/series.017.34.33.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 55px; top: 0.0pt" alt="" /> is the <img class="Default EquationGraphic" src="images/series.017.34.34.jpg" width="100%" style="display: inline; left: 0.0pt; max-height: 22px; max-width: 43px; top: 0.0pt" alt="" /> element of the weighting matrix. By construction, the first and last rows of the weight matrix will be filled with missing values for the symmetric filter.</a></div>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
      document.write(WebWorksHTMLHelp.fPopupDivTag());
     // -->
    </script>
  </body>
</html>